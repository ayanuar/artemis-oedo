alias:
    idraw:  icraw.fID
    qraw:   icraw.fCharge
    qcal:   ic.fCharge
    ped:    +30
    tcal:   ict.fTiming


    f5x: "f5track[0].fX"
    f5a: "f5track[0].fA*1000"
    f5y: "f5track[0].fY"
    f5b: "f5track[0].fB*1000"

    fe9x: "(542.25*sr91_x[0].fPosition-122.5*sr92_x[0].fPosition)/419.75"
    fe9a: "(sr92_x[0].fPosition-sr91_x[0].fPosition)/419.75*1000."
    fe9y: "(542.25*sr91_y[0].fPosition-122.5*sr92_y[0].fPosition)/419.75"
    fe9b: "(sr92_y[0].fPosition-sr91_y[0].fPosition)/419.75*1000."

    s0x: "(1972*src2_x[0].fPosition-1452*src1_x[0].fPosition)/520.*-1."
    s0a: "(src2_x[0].fPosition-src1_x[0].fPosition)/520.*1000.*-1."
#    s0y: "(1972*src2_y[0].fPosition-1452*src1_y[0].fPosition)/520."
    s0y: "(1972*src2_y[0].fPosition-1452*src1_y[0].fPosition)/520.-30."
    s0b: "(src2_y[0].fPosition-src1_y[0].fPosition)/520.*1000."


    s1y: "(560.8*sr12_y[0].fPosition-210.8*sr11_y[0].fPosition)/350."

    t12s1: "tof12s1[0].fTiming"
    beta: "7813./299.79/t12s1"
    gamma: "1./TMath::Sqrt(1.-beta*beta)"
    tke: "(gamma-1)*931.49406"

    t39: "tof39[0].fTiming"
    gpid: "abs(fe9x)<30.&&abs(t39+0.127*fe9x-428.5)<1.5"


anchors:
  - &icch   [icraw.fID, 30, -0.5, 29.5]
  - &div1   200
  - &div2   200
  - &qmin   0
  - &qmax   8000
  - &cmin   -2
  - &cmax   198
  - &tmin   90
  - &tmax   140
  - &xmin   -150
  - &xmax   150
  - &ymin   -120
  - &ymax   120
  - &amin   -0.05
  - &amax   0.05
  - &bmin   0.2
  - &bmax   0.4
  - &nbin   150
  - &tdiv   200
  - &tmin   -500
  - &tmax   500


group:
- name: ic
  title: IC
  contents:

   - name: s1ic_id
     title: s1ic id
     x: *icch

   - name: s1y
     title: s1y
     x: [s1y, 400, -200, 200]

#   - name: tof12s1
#     title: tof12s1
#     x: [tof12s1[0].fTiming, 200, 100, 150]

   - name: t12s1
     title: t12s1
     x: [t12s1, 200, 100, 200]

   - name: TKE
     title: TKE
     x: [tke, 100, 0, 50]


   - name: s1ic_charge
     title: s1ic charge
     x: *icch
     y: [qraw, *div1, *qmin, *qmax]

#   - name: s1ic_charge
#     title: s1ic charge XYgate
#     cut: "abs(s1x)<5 && abs(s1y)<5"
#     x: *icch
#     y: [qraw, *div1, *qmin, *qmax]
#
   - name: s1ic_chargecal_cut
     title: s1ic charge cal cut
     cut: "gpid && abs(tke-24.)<1. && abs(s1y)<5."
#     cut: gpid
#     cut: abs(tke-24.)<5.
#     cut: abs(s1y)<5.
     x: *icch
     y: [qcal, *div1, *cmin, *cmax]

   - name: s1ic_chargecal
     title: s1ic charge cal
     x: *icch
     y: [qcal, *div1, *cmin, *cmax]


   - name: s1ic_timing
     title: s1ic timing
     x: *icch
     y: [tcal, *tdiv, *tmin, *tmax]


#   - name: s1ic_chargecal_xygate
#     title: s1ic charge cal XYgate
#     cut: "abs(s1x)<5 && abs(s1y)<5"
#     x: *icch
#     y: [qcal, *div1, *cmin, *cmax]
#
#   - name: tof_s1_fe12_vs_s1x
#     title: TOF(S1-FE12) vs S1X
#     x: [t12s1, *div1, *tmin, *tmax]
#     y: [s1x, *div1, *xmin, *xmax]
#
#   - name: ic0_xygate
#     title: ic0 XYgate
#     cut: "abs(s1x)<20 && abs(s1y)<5"
#     x: ["icraw[0].fCharge", 500, 0, 2000]
#
#   - name: ic1_xygate
#     title: ic1 XYgate
#     cut: "abs(s1x)<20 && abs(s1y)<5"
#     x: ["icraw[1].fCharge", 500, 0, 2000]
#
#   - name: ic2_xygate
#     title: ic2 XYgate
#     cut: "abs(s1x)<20 && abs(s1y)<5"
#     x: ["icraw[2].fCharge", 500, 0, 2000]
#
#   - name: ic3_xygate
#     title: ic3 XYgate
#     cut: "abs(s1x)<20 && abs(s1y)<5"
#     x: ["icraw[3].fCharge", 500, 0, 2000]
#
#   - name: ic4_xygate
#     title: ic4 XYgate
#     cut: "abs(s1x)<20 && abs(s1y)<5"
#     x: ["icraw[4].fCharge", 500, 0, 2000]
#
#   - name: ic5_xygate
#     title: ic5 XYgate
#     cut: "abs(s1x)<20 && abs(s1y)<5"
#     x: ["icraw[5].fCharge", 500, 0, 2000]
#
#   - name: ic6_xygate
#     title: ic6 XYgate
#     cut: "abs(s1x)<20 && abs(s1y)<5"
#     x: ["icraw[6].fCharge", 500, 0, 2000]
#
#   - name: ic7_xygate
#     title: ic7 XYgate
#     cut: "abs(s1x)<20 && abs(s1y)<5"
#     x: ["icraw[7].fCharge", 500, 0, 2000]
#
#   - name: ic8_xygate
#     title: ic8 XYgate
#     cut: "abs(s1x)<20 && abs(s1y)<5"
#     x: ["icraw[8].fCharge", 500, 0, 2000]
#
#   - name: ic9_xygate
#     title: ic9 XYgate
#     cut: "abs(s1x)<20 && abs(s1y)<5"
#     x: ["icraw[9].fCharge", 500, 0, 2000]
#
#   - name: ic10_xygate
#     title: ic10 XYgate
#     cut: "abs(s1x)<20 && abs(s1y)<5"
#     x: ["icraw[10].fCharge", 500, 0, 2000]
#
#   - name: ic11_xygate
#     title: ic11 XYgate
#     cut: "abs(s1x)<20 && abs(s1y)<5"
#     x: ["icraw[11].fCharge", 500, 0, 2000]
#
#   - name: ic12_xygate
#     title: ic12 XYgate
#     cut: "abs(s1x)<20 && abs(s1y)<5"
#     x: ["icraw[12].fCharge", 500, 0, 2000]
#
#   - name: ic13_xygate
#     title: ic13 XYgate
#     cut: "abs(s1x)<20 && abs(s1y)<5"
#     x: ["icraw[13].fCharge", 500, 0, 2000]
#
#   - name: ic14_xygate
#     title: ic14 XYgate
#     cut: "abs(s1x)<20 && abs(s1y)<5"
#     x: ["icraw[14].fCharge", 500, 0, 2000]
#
#   - name: ic15_xygate
#     title: ic15 XYgate
#     cut: "abs(s1x)<20 && abs(s1y)<5"
#     x: ["icraw[15].fCharge", 500, 0, 2000]
#
#   - name: ic16_xygate
#     title: ic16 XYgate
#     cut: "abs(s1x)<20 && abs(s1y)<5"
#     x: ["icraw[16].fCharge", 500, 0, 2000]
#
#   - name: ic17_xygate
#     title: ic17 XYgate
#     cut: "abs(s1x)<20 && abs(s1y)<5"
#     x: ["icraw[17].fCharge", 500, 0, 2000]
#
#   - name: ic18_xygate
#     title: ic18 XYgate
#     cut: "abs(s1x)<20 && abs(s1y)<5"
#     x: ["icraw[18].fCharge", 500, 0, 2000]
#
#   - name: ic19_xygate
#     title: ic19 XYgate
#     cut: "abs(s1x)<20 && abs(s1y)<5"
#     x: ["icraw[19].fCharge", 500, 0, 2000]
#
#   - name: ic20_xygate
#     title: ic20 XYgate
#     cut: "abs(s1x)<20 && abs(s1y)<5"
#     x: ["icraw[20].fCharge", 500, 0, 2000]
#
#   - name: ic21_xygate
#     title: ic21 XYgate
#     cut: "abs(s1x)<20 && abs(s1y)<5"
#     x: ["icraw[21].fCharge", 500, 0, 2000]
#
#   - name: ic22_xygate
#     title: ic22 XYgate
#     cut: "abs(s1x)<20 && abs(s1y)<5"
#     x: ["icraw[22].fCharge", 500, 0, 2000]
#
#   - name: ic23_xygate
#     title: ic23 XYgate
#     cut: "abs(s1x)<20 && abs(s1y)<5"
#     x: ["icraw[23].fCharge", 500, 0, 2000]
#
#   - name: ic24_xygate
#     title: ic24 XYgate
#     cut: "abs(s1x)<20 && abs(s1y)<5"
#     x: ["icraw[24].fCharge", 500, 0, 2000]
#
#   - name: ic25_xygate
#     title: ic25 XYgate
#     cut: "abs(s1x)<20 && abs(s1y)<5"
#     x: ["icraw[25].fCharge", 500, 0, 2000]
#
#   - name: ic26_xygate
#     title: ic26 XYgate
#     cut: "abs(s1x)<20 && abs(s1y)<5"
#     x: ["icraw[26].fCharge", 500, 0, 2000]
#
#   - name: ic27_xygate
#     title: ic27 XYgate
#     cut: "abs(s1x)<20 && abs(s1y)<5"
#     x: ["icraw[27].fCharge", 500, 0, 2000]
#
#   - name: ic28_xygate
#     title: ic28 XYgate
#     cut: "abs(s1x)<20 && abs(s1y)<5"
#     x: ["icraw[28].fCharge", 500, 0, 2000]
#
#   - name: ic29_xygate
#     title: ic29 XYgate
#     cut: "abs(s1x)<20 && abs(s1y)<5"
#     x: ["icraw[29].fCharge", 500, 0, 2000]
#

#   - name: deltaE
#     title: delta E
#     x: [icde.fValue, *div1, *cmin, *cmax]

#   - name: totalE
#     title: total E
#     x: [icave.fValue, *div1, *cmin, *cmax]


#- name: ic_gpid
#  title: IC (g pid)
#  clone: ic
#  cut: gpid
#
